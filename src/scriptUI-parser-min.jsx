// prettier-ignore
var parseScriptUI=function(){function t(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2]);default:return t.apply(n,e)}}function n(t,n){for(var e=-1,r=t.length;++e<r;)n(t[e],e,t)}function e(t,n){for(var e=-1,r=t.length,o=Array(r);++e<r;)o[e]=n(t[e],e,t);return o}function r(t){return F([].slice.call(arguments,1),function(n){if(C(n))for(var e in n)t[e]=n[e]}),t}function o(t,n){n=c(n,t);for(var e=0,r=n.length;null!=t&&e<r;)t=t[B(n[e++])];return e&&e==r?t:void 0}function i(t){return Object.prototype.toString.call(t)}function f(t,n){return u(t,n,function(n,e){return v(t,e)})}function u(t,e,r){var o={};return n(e,function(n){var e=t[n];r(e,n)&&(o[n]=e)}),o}function a(t){if("string"==typeof t)return t;if(y(t))return e(t,a)+"";var n=t+"";return"0"==n&&1/t==-Jn?"-0":n}function c(t,n){if(y(t))return t;return w(t,n)?[t]:j(D(t))}function l(t,n){if(null==n||n<1)return[];for(var e=[],r=0,o=t.length;r<o;)e.push([].slice.call(t,r,r+=n));return e}function s(t){if(!L(t))return t;return y(t)?t.slice():r({},t)}function h(t){var n=y(t)?[]:{};return L(t)&&b(t,function(t,e,r){v(r,e)&&(n[e]=L(t)?h(t):t)}),n}function p(t){return function(){return t}}function d(t,n){for(var e=-1,r=t.length;++e<r;)if(t[e]===n)return!0;return!1}function b(t,e){var r=y(t)?n:F;return r(t,e)}function g(t,n,e){var r=null==t?void 0:t[n];return void 0===r?e:r}function v(t,n){return null!=t&&Object.prototype.hasOwnProperty.call(t,n)}function y(t){return"[object Array]"===i(t)}function x(t){return!0===t||!1===t}function k(t){return"function"==typeof t}function w(t,n){if(y(t))return!1;var e=typeof t;if("number"==e||"boolean"==e||null==t)return!0;var r=null!=n&&t in Object(n);return oe.test(t)||!re.test(t)||r}function O(t){return null==t}function m(t){return null===t}function S(t){return"number"==typeof t}function C(t){var n=typeof t,e=null!=t,r="object"==n||"function"==n;return e&&r}function L(t){return null!=t&&"object"==typeof t}function T(t){return"string"==typeof t}function I(t){var n=[];for(var e in t)t.hasOwnProperty(e)&&n.push(e);return n}function z(t,n){var e={};return F(t,function(t,r,o){e[r]=n(t,r,o)}),e}function P(t,n){if(null==t)return{};for(var e={},r=0,o=t.length;r<o;r++)n?e[t[r]]=n[r]:e[t[r][0]]=t[r][1];return e}function F(t,e){n(I(t),function(n){e(t[n],n,t)})}function W(t,n){return e(t,A(n))}function A(t){return function(n){return n[t]}}function j(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(ie,function(t,e,r,o){n.push(r?o.replace(Qn,"$1"):e||t)}),n}function R(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}function B(t){if("string"==typeof t)return t;var n=t+"";return"0"==n&&1/t==-Jn?"-0":n}function D(t){return null==t?"":a(t)}function N(t,n){return delete t[n],t}function U(t){for(var n=I(t),e=n.length,r=new Array(e),o=0;o<e;o++)r[o]=t[n[o]];return r}function E(){for(var n=t(Math.max,null,W(arguments,"length").concat(0)),e=new Array(n),r=0;r<n;r++)e[r]=W(arguments,""+r);return e}function V(n,e,r,o){var i=on(r)?_:X;return t(i,null,arguments)}function M(n,e){var o=tn(n.type)?G:Y;r(t(o,null,arguments),Lt(e))}function X(t,n,e){return r(In(t,e,Dn(n,e)),Lt(n))}function Y(t,n,e){e=he&&Nt(e)?"button":e;var r=Ut(e)?ht:zn;return r(t,e,Dn(n,e))}function _(t,n,e,o){var i=Lt(n),f=Fn(t,$t(n));return i.expanded&&o.nodes.push(f),r(f,N(i,"expanded"))}function G(t,n){return Pn(t,$t(n))}function q(t,n,e){return vt(n,function(n,r,i,f){var u=o(t,i);o(e,i)(u)&&(f[r]=u)}),n}function H(t,n,e){b(t,function(r,o){e(r,o,n.concat(o),t),L(r)&&H(r,n.concat(o),e)})}function J(t,n,e,r,o){F(t,function(t,i){if(i=xt(i).toLowerCase(),!yn(i)||!bn(n.type,i))return;if(Bt(i)){var f=e(n,t,i,o);J(t,f,e,r,o)}else r(n,t,i)})}function K(t){return g(t,"config")}function Q(t){return g(t,"param")}function Z(t){var n=g(t,"param");return y(n)?Tn(n):[]}function tt(t){var n=g(t,"style");return C(n)?n:{}}function nt(t,n){var e=Wt(t,n),r=new yt;return J(t,e,V,M,r),wt(r.nodes),e}function et(t,n,e,r){var o=nt(t,n);return Ft(o,r),On(o)&&e&&o.show(),o}function rt(t,n,e,r){var o=null;return function(){return Jt(o)&&(o=nt(t,n)),Ft(o,r),On(o)&&e&&o.show(),o}}function ot(n){var e=n?rt:et;return t(e,null,[].slice.call(arguments,1))}function it(){var t=this.graphics.measureString(this.text,this.font),n=this.graphics.measureString(this.text,this.font,t[0]),e=ae?Ot(n[0],this.text):n[0],r=(this.width-e)/2+this.left+this.fontOffset[0],o=pe?ge:(this.height-n[1])/2+this.top+this.fontOffset[1];return[r+Ue[0],o+Ue[1]]}function ft(t){return ScriptUI.newFont(t.fontName,Cn(t.fontStyle),t.fontSize)}function ut(n,r){var o=e(r,function(e){return t(Wn,n,e)});return P(ze,o)}function at(t,n,e){var o=mt(e,n);O(o)&&(o={});var i=g(e,1,Ke.bounds),u=g(e,2,Ke.text),a={text:u,properties:{name:o.name}},c=t.add(ct(n,a),i),l=r(f(o,$e),{bounds:i,text:u});return l=q(Ln(l),h(tr),er),dt(c,n,l)}function ct(t,n){return mn(t)+st(n)}function lt(t,n,e){var o=mt(e,n);O(o)&&(o={});var i=g(e,1,Qe.bounds),u=g(e,2,Qe.text),a={text:u,properties:{name:o.name}},c=t.add(ct(n,a),i),l=r(f(o,Ie),{bounds:i,text:u});return l=q(Ln(l),h(nr),rr),dt(c,n,l)}function st(t){return kt(uneval(t))}function ht(t,n,e){var r={rectbutton:at,roundbutton:lt};return r[n](t,n,e)}function pt(t,n){var e=t.graphics,r="rectbutton"===n?"rectPath":"ellipsePath",o="rectbutton"===n?bt:gt;return t.onDraw=function(){var n=new o(t);e[r](n.left,n.top,n.width,n.height),n.enableFill&&e.fillPath(n.pen.fill),n.enableStroke&&e.strokePath(n.pen.stroke),n.enableText&&e.drawString(n.text,n.pen.text,n.textX,n.textY,n.font)},t}function dt(t,n,e){var o=t.graphics,i=ut(o,$n(e)),u=ft(Sn(e));return r(o,f(e,Fe),{pen:i.mouseout,font:u}),pt(Vn(Mn(t,i)),n)}function bt(t){this.graphics=t.graphics,this.enableText=this.graphics.enableText,this.enableFill=this.graphics.enableFill,this.enableStroke=this.graphics.enableStroke,this.fontOffset=this.graphics.fontOffset,this.pen=this.graphics.pen,this.text=t.text,this.font=this.graphics.font,this.left=0,this.top=0,this.width=t.size[0]-be,this.height=t.size[1]-be,this.textLocation=it.call(this),this.textX=this.textLocation[0],this.textY=this.textLocation[1]}function gt(t){this.graphics=t.graphics,this.enableText=this.graphics.enableText,this.enableFill=this.graphics.enableFill,this.enableStroke=this.graphics.enableStroke,this.fontOffset=this.graphics.fontOffset,this.pen=this.graphics.pen,this.text=t.text,this.font=this.graphics.font,this.left=this.pen.stroke.lineWidth,this.top=this.pen.stroke.lineWidth,this.width=t.size[0]-2*this.left-be,this.height=t.size[1]-2*this.top-be,this.textLocation=it.call(this),this.textX=this.textLocation[0],this.textY=this.textLocation[1]}function vt(n,e){H(n,[],function(n){L(n)||t(e,null,arguments)})}function yt(){this.nodes=[]}function xt(t){return t.replace(Kn,"")}function kt(t){return t.replace(Zn,"")}function wt(t){n(t,function(t){t.expanded=!0})}function Ot(t,n){var e=n.length;return t/((e+ve)/e)}function mt(t,n){return t[St(n)]}function St(t){if(rn(t))return me[t];if(Ut(t))return Ce[t];if(Bt(t))return Se[t]}function Ct(t){return y(t)?Tn(t):Z(t)}function Lt(t){return y(t)?{}:tt(t)}function Tt(t,n){return un(n)?n:new Window(t[0],t[1],t[2],t[3])}function $t(t){var n=C(t)?Q(t):t;return String(n)}function It(t){return e(zt(t),function(t){return t/255})}function zt(t){var n;return t=t.replace(ne,"$1$1$2$2$3$3"),t.replace(ee,function(t,e,r,o){n=[parseInt(e,16),parseInt(r,16),parseInt(o,16)]}),n}function Pt(t,n){return It(t).concat(n)}function Ft(t,n){t.layout.layout(n),t.layout.resize()}function Wt(t,n){var e=Tt(Xn(Z(t)),n);return e.onResizing=e.onResize=An,r(e,tt(t))}function At(t){return parseInt(Gn.appVersion)===t}function jt(t,n){return function(e){return S(e)&&e>=t&&e<=n}}function Rt(t){return null!=t&&"[object BridgeTalk]"===i(t)}function Bt(t){return nn(t)||tn(t)}function Dt(t){return rn(t)||Ut(t)}function Nt(t){return d(Pe,t)}function Ut(t){return v(Ce,t)}function Et(t){return"dropdownlist"===t}function Vt(t){var n=jt(0,3)(t),e=T(t)&&te.test(t);return n||e}function Mt(t){return v(Se,t)}function Xt(t){return t===_n}function Yt(t){return null!=t&&"[object global]"===i(t)}function _t(t){return null!=t&&"[object $]"===i(t)}function Gt(t){return T(t)&&ee.test(t)}function qt(t){return fe===t}function Ht(t,n){var e=sn(t)&&!ln(n),r=ln(t)&&ln(n);return e||r}function Jt(t){return null===t||!t.visible}function Kt(t){return t.button===Le}function Qt(t){return"listbox"===t}function Zt(t){return Et(t)||Qt(t)}function tn(t){return pn(t)||Zt(t)}function nn(t){return Mt(t)||en(t)}function en(t){return d(ye,t)}function rn(t){return v(me,t)}function on(t){return"node"===t}function fn(t){return"item"===t}function un(t){return t instanceof Panel}function an(t){return un(t)}function cn(t){return t.button===Te}function ln(t){return"tab"===t}function sn(t){return"tabbedpanel"===t}function hn(t){return"treeview"===t}function pn(t){return hn(t)||on(t)}function dn(t){return on(t)||fn(t)}function bn(t,n){if(Ht(t,n))return!1;return gn(t,n)||wn(t,n)||kn(t,n)}function gn(t,n){var e=nn(t),r=Mt(n)||Dt(n);return e&&r}function vn(t){return Xt(t)||an(t)}function yn(t){return rn(t)||Bt(t)||fn(t)||Ut(t)}function xn(t,n){return!!t&&d(n,t.appName)}function kn(t,n){return Zt(t)&&fn(n)}function wn(t,n){return pn(t)&&dn(n)}function On(t){return t instanceof Window}function mn(t){return Re[t]}function Sn(t){return f(t,Ae)}function Cn(t){return T(t)?ScriptUI.FontStyle[t.toUpperCase()]:t}function Ln(t){return z(t,function(t,n){return d(We,n)&&!y(t)?R(4,p(t)):t})}function Tn(t){return e(t,function(t){return m(t)?void 0:t})}function $n(n){return e(t(E,null,U(f(n,je))),function(n){var r=l(n,3),o=E(r[0],r[1]),i=e(o,function(n){return t(Pt,null,n)});return i.concat(r[2])})}function In(t,n,e){return t.add(n,e[1],e[2],e[3])}function zn(t,n,e){return t.add(n,e[1],e[2],e[3],e[4],e[5])}function Pn(t,n){return t.add("item",n)}function Fn(t,n){return t.add("node",n)}function Wn(t,n,e,r){return{text:this.newPen(this.PenType.SOLID_COLOR,t,1),fill:this.newBrush(this.BrushType.SOLID_COLOR,n),stroke:this.newPen(this.PenType.SOLID_COLOR,e,r)}}function An(){this.layout.resize()}function jn(n){if(!C(n))return null;var e=t(ot,null,Rn(n,jn));return de.push(e),e}function Rn(t,n){var e=r(s(Ze),K(t)),o=!!e.show,i=!!e.dockable,f=!!e.singleton,u=Bn(n.context,i,f),a=Nn(n.layoutMode,e.layoutMode);return[f,t,u,o,a]}function Bn(t,n,e){if(e||!n)return Window;if(vn(Yn))return Yn;return vn(t)?t:Window}function Dn(t,n){return En(Ct(t),n)}function Nn(t,n){if(jt(0,2)(n))return n;if(jt(0,2)(t))return t;return 0}function Un(t,e){n(ze,function(n){t.addEventListener(n,e)})}function En(t,n){var e=t[0];if(O(e))return t;var r=St(n),o=t[r];if(C(o)||(t[r]={}),v(o,"name"))return t;return t[r].name=e,t}function Vn(t){return t.addEventListener("mouseup",function(n){n.stopPropagation(),k(t.onClick)&&Kt(n)&&t.onClick()}),t}function Mn(t,n){return Un(t,function(e){if(e.stopPropagation(),cn(e))return;t.graphics.pen=n[e.type],t.notify("onDraw")}),t}function Xn(t){var n=String(t[0]);return t[0]=d(ke,n)?n:Oe,t}var Yn=this,_n=_t($)&&Yt($.global)&&$.global,Gn=!!_n&&Rt(_n.BridgeTalk)&&_n.BridgeTalk,qn=["aftereffects","photoshop","illustrator","indesign","estoolkit"];if(!xn(Gn,qn))throw"不受支持的宿主应用";var Hn="0.2.3",Jn=1/0,Kn=/\d/g,Qn=/\\(\\)?/g,Zn=/\)$|^\(/g,te=/REGULAR|BOLD|ITALIC|BOLDITALIC/i,ne=/^#?([a-f\d])([a-f\d])([a-f\d])$/gi,ee=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/gi,re=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oe=/^\w*$/,ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fe=Gn.appName,ue=qt("aftereffects"),ae=qt("photoshop"),ce=qt("illustrator"),le=qt("indesign"),se=qt("estoolkit"),he=ue&&At(16),pe=ce||le,de=[],be=ae?1:0,ge=ce?4.5:5,ve=2.4,ye=["palette","dialog","window"],xe={aftereffects:["dialog","palette","window"],photoshop:"dialog",illustrator:["dialog","palette","window"],indesign:"dialog",estoolkit:["dialog","palette","window"]},ke=xe[fe],we={aftereffects:"palette",photoshop:"dialog",illustrator:"palette",indesign:"dialog",estoolkit:"palette"},Oe=we[fe],me={button:3,checkbox:3,dropdownlist:3,edittext:3,iconbutton:3,image:3,listbox:3,progressbar:5,radiobutton:3,scrollbar:5,slider:5,statictext:3,treeview:3},Se={group:2,panel:3,tab:3,tabbedpanel:3},Ce={rectbutton:3,roundbutton:3,angle:3};ae&&N(me,"treeview"),se&&r(me,{flashplayer:3});var Le=0,Te=2,$e=["enableText","enableFill","enableStroke","fontName","fontStyle","fontSize","fontOffset","fontColor","fillColor","strokeColor","fontOpacity","fillOpacity","strokeOpacity","strokeWidth"],Ie=$e,ze=["mouseover","mouseout","mousedown","mouseup"],Pe=["rectbutton","roundbutton"],Fe=["enableText","enableFill","enableStroke","fontOffset"],We=["fontColor","fillColor","strokeColor","fontOpacity","fillOpacity","strokeOpacity","strokeWidth"],Ae=["fontName","fontStyle","fontSize"],je=["fontColor","fillColor","strokeColor","fontOpacity","fillOpacity","strokeOpacity","strokeWidth"],Re={rectbutton:"customView",roundbutton:"customView",angle:"customBoundedValue"},Be={aftereffects:2,photoshop:1,illustrator:2,indesign:2,estoolkit:2},De=R(4,p(Be[fe])),Ne={aftereffects:[0,0],photoshop:[0,0],illustrator:[0,2],indesign:[0,3],estoolkit:[0,-1]},Ue=Ne[fe],Ee={aftereffects:["#161616","#8a8a8a","#161616","#ffffff"],photoshop:["#f0f0f0","#f0f0f0","#f0f0f0","#ffffff"],illustrator:["#4b4b4b","#ffffff","#ffffff","#ffffff"],indesign:["#4b4b4b","#ffffff","#ffffff","#ffffff"],estoolkit:["#000000","#000000","#000000","#000000"]},Ve=Ee[fe],Me={aftereffects:["#8a8a8a","#232323","#636363","#2d8ceb"],photoshop:["#454545","#454545","#363636","#454545"],illustrator:["#ffffff","#535353","#46a0f5","#46a0f5"],indesign:["#ffffff","#535353","#46a0f5","#46a0f5"],estoolkit:["#e5f1fb","#e1e1e1","#cce4f7","#e5f1fb"]},Xe=Me[fe],Ye={aftereffects:["#8a8a8a","#8a8a8a","#636363","#2d8ceb"],photoshop:["#666666","#666666","#636363","#1473e7"],illustrator:["#ffffff","#ffffff","#46a0f5","#46a0f5"],indesign:["#ffffff","#ffffff","#46a0f5","#46a0f5"],estoolkit:["#0078d7","#adadad","#005499","#0078d7"]},_e=Ye[fe],Ge={aftereffects:[0,0,80,28],photoshop:[0,0,65,25],illustrator:[0,0,80,26],indesign:[0,0,80,28],estoolkit:[0,0,78,23]},qe=Ge[fe],He={aftereffects:[0,0,30,30],photoshop:[0,0,28,28],illustrator:[0,0,28,28],indesign:[0,0,30,30],estoolkit:[0,0,23,23]},Je=He[fe],Ke={text:"",bounds:qe},Qe={text:"",bounds:Je},Ze={dockable:!0,show:!0,singleton:!1},tr={enableText:!0,enableFill:!0,enableStroke:!0,fontName:"Tahoma",fontStyle:"REGULAR",fontSize:12,fontOffset:[0,0],fontColor:Ve,fillColor:Xe,strokeColor:_e,fontOpacity:[1,1,1,1],fillOpacity:[1,1,1,1],strokeOpacity:[1,1,1,1],strokeWidth:De},nr=tr,er={enableText:x,enableFill:x,enableStroke:x,fontName:T,fontStyle:Vt,fontSize:jt(1,24),fontOffset:[S,S],fontColor:[Gt,Gt,Gt,Gt],fillColor:[Gt,Gt,Gt,Gt],strokeColor:[Gt,Gt,Gt,Gt],fontOpacity:[jt(0,1),jt(0,1),jt(0,1),jt(0,1)],fillOpacity:[jt(0,1),jt(0,1),jt(0,1),jt(0,1)],strokeOpacity:[jt(0,1),jt(0,1),jt(0,1),jt(0,1)],strokeWidth:[jt(0,10),jt(0,10),jt(0,10),jt(0,10)]},rr=er;return jn.version=Hn,jn}.call(this);
