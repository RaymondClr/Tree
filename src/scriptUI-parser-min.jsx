// prettier-ignore
var parseScriptUI=function(){function t(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2]);default:return t.apply(n,e)}}function n(t,n){for(var e=-1,r=t.length;++e<r;)n(t[e],e,t)}function e(t,n){for(var e=-1,r=t.length,o=Array(r);++e<r;)o[e]=n(t[e],e,t);return o}function r(t,n){if(!C(n))return t;for(var e in n)v(n,e)&&(t[e]=n[e]);return t}function o(t,n){n=c(n,t);for(var e=0,r=n.length;null!=t&&e<r;)t=t[B(n[e++])];return e&&e==r?t:void 0}function i(t){return Object.prototype.toString.call(t)}function f(t,n){return u(t,n,function(n,e){return v(t,e)})}function u(t,e,r){var o={};return n(e,function(n){var e=t[n];r(e,n)&&(o[n]=e)}),o}function a(t){if("string"==typeof t)return t;if(y(t))return e(t,a)+"";var n=t+"";return"0"==n&&1/t==-zn?"-0":n}function c(t,n){if(y(t))return t;return O(t,n)?[t]:A(D(t))}function l(t,n){if(null==n||n<1)return[];for(var e=[],r=0,o=t.length;r<o;)e.push([].slice.call(t,r,r+=n));return e}function s(t){return function(){return t}}function h(t,n){for(var e=-1,r=t.length;++e<r;)if(t[e]===n)return!0;return!1}function p(t){if(!L(t))return t;return y(t)?t.slice():r({},t)}function d(t){var n=y(t)?[]:{};return L(t)&&b(t,function(t,e,r){v(r,e)&&(n[e]=L(t)?d(t):t)}),n}function b(t,e){var r=y(t)?n:W;return r(t,e)}function g(t,n,e){var r=null==t?void 0:t[n];return void 0===r?e:r}function v(t,n){return null!=t&&Object.prototype.hasOwnProperty.call(t,n)}function y(t){return"[object Array]"===i(t)}function k(t){return!0===t||!1===t}function x(t){return"function"==typeof t}function O(t,n){if(y(t))return!1;var e=typeof t;if("number"==e||"boolean"==e||null==t)return!0;return Dn.test(t)||!Bn.test(t)||null!=n&&t in Object(n)}function w(t){return null==t}function m(t){return null===t}function S(t){return"number"==typeof t}function C(t){return null!=t&&"[object Object]"===i(t)}function L(t){return null!=t&&"object"==typeof t}function T(t){return"string"==typeof t}function I(t){var n=[];for(var e in t)t.hasOwnProperty(e)&&n.push(e);return n}function z(t,n){var e={};return W(t,function(t,r,o){e[r]=n(t,r,o)}),e}function P(t,n){if(null==t)return{};for(var e={},r=0,o=t.length;r<o;r++)n?e[t[r]]=n[r]:e[t[r][0]]=t[r][1];return e}function W(t,e){n(I(t),function(n){e(t[n],n,t)})}function F(t,n){return e(t,j(n))}function j(t){return function(n){return n[t]}}function A(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(Nn,function(t,e,r,o){n.push(r?o.replace(Wn,"$1"):e||t)}),n}function R(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}function B(t){if("string"==typeof t)return t;var n=t+"";return"0"==n&&1/t==-zn?"-0":n}function D(t){return null==t?"":a(t)}function N(t){for(var n=I(t),e=n.length,r=new Array(e),o=0;o<e;o++)r[o]=t[n[o]];return r}function U(){for(var n=t(Math.max,null,F(arguments,"length").concat(0)),e=new Array(n),r=0;r<n;r++)e[r]=F(arguments,""+r);return e}function E(t){return parseInt(Tn.appVersion)===t}function V(t,n){return function(e){return S(e)&&e>=t&&e<=n}}function M(t){return null!=t&&"[object BridgeTalk]"===i(t)}function X(t){return nt(t)||at(t)}function Y(t){return v(Zn,t)}function _(t){return h(ue,t)}function G(t){return v(ne,t)}function q(t){return V(0,3)(t)||T(t)&&jn.test(t)}function H(t){return null!=t&&"[object global]"===i(t)}function J(t){return null!=t&&"[object $]"===i(t)}function K(t){return t===Ln}function Q(t){return T(t)&&Rn.test(t)}function Z(t){return Un===t}function tt(t){return t.button===ee}function nt(t){return v(te,t)}function et(t){return"node"===t}function rt(t){return"item"===t}function ot(t){return t instanceof Panel}function it(t){return ot(t)}function ft(t){return t.button===re}function ut(t){return"treeview"===t}function at(t){return ut(t)||et(t)}function ct(t){return et(t)||rt(t)}function lt(t){return K(t)||it(t)}function st(t,n){return!!t&&h(n,t.appName)}function ht(t){return Y(t)||X(t)||rt(t)||G(t)}function pt(t){return t instanceof Window}function dt(t){return t.replace(Pn,"")}function bt(t){return t.replace(Fn,"")}function gt(t){return e(t,function(t){return m(t)?void 0:t})}function vt(t,n){if(ot(n))return n;if(w(t))return new Window(Qn);return t=gt(t),new Window(t[0],t[1],t[2],t[3])}function yt(){this.layout.resize()}function kt(t,n){var e=t.param,o=vt(e,n);return o.onResizing=o.onResize=yt,r(o,t.style)}function xt(t){if(!C(t))return{};if(!v(t,"style"))return{};return C(t.style)?t.style:{}}function Ot(t){if(Y(t))return Zn[t];if(G(t))return ne[t];if(X(t))return te[t]}function wt(t){return v(t,"param")?t.param:[]}function mt(t){return y(t)?t:wt(t)}function St(t){return y(t)?{}:xt(t)}function Ct(t,n){if(!y(t))return[];var e=t[0];if(w(e))return t;var r=Ot(n),o=t[r];if(w(o)&&(t[r]={}),v(o,"name"))return t;return t[r].name=e+"",t}function Lt(t,n){return t[Ot(n)]}function Tt(t,n,e){return t.add(n,e[1],e[2],e[3])}function $t(t,n,e){return t.add(n,e[1],e[2],e[3],e[4],e[5])}function It(t,n,e){var r={rectbutton:Nt,roundbutton:Ut};return r[n](t,n,e)}function zt(t){return bt(uneval(t))}function Pt(t){var n;return t=t.replace(An,"$1$1$2$2$3$3"),t.replace(Rn,function(t,e,r,o){n=[parseInt(e,16),parseInt(r,16),parseInt(o,16)]}),n}function Wt(t){return e(Pt(t),function(t){return t/255})}function Ft(t,n){return Wt(t).concat(n)}function jt(t,n){return Et(t)+zt(n)}function At(t,n,e){b(t,function(r,o){e(r,o,n.concat(o),t),L(r)&&At(r,n.concat(o),e)})}function Rt(n,e){At(n,[],function(n){L(n)||t(e,null,arguments)})}function Bt(t){return z(t,function(t,n){return h(ce,n)&&!y(t)?R(4,s(t)):t})}function Dt(t,n,e){return Rt(n,function(n,r,i,f){var u=o(t,i);o(e,i)(u)&&(f[r]=u)}),n}function Nt(t,n,e){var o=Lt(e,n);w(o)&&(o={});var i=g(e,1,Te.bounds),u=g(e,2,Te.text),a={text:u,properties:{name:o.name}},c=t.add(jt(n,a),i),l=r(f(o,oe),{bounds:i,text:u});return l=Dt(Bt(l),d(ze),We),Jt(c,n,l)}function Ut(t,n,e){var o=Lt(e,n);w(o)&&(o={});var i=g(e,1,$e.bounds),u=g(e,2,$e.text),a={text:u,properties:{name:o.name}},c=t.add(jt(n,a),i),l=r(f(o,ie),{bounds:i,text:u});return l=Dt(Bt(l),d(Pe),Fe),Jt(c,n,l)}function Et(t){return he[t]}function Vt(t,e){n(fe,function(n){t.addEventListener(n,e)})}function Mt(t,n,e,r){return{text:this.newPen(this.PenType.SOLID_COLOR,t,1),fill:this.newBrush(this.BrushType.SOLID_COLOR,n),stroke:this.newPen(this.PenType.SOLID_COLOR,e,r)}}function Xt(n,r){var o=e(r,function(e){return t(Mt,n,e)});return P(fe,o)}function Yt(t){return T(t)?ScriptUI.FontStyle[t.toUpperCase()]:t}function _t(t){return ScriptUI.newFont(t.fontName,Yt(t.fontStyle),t.fontSize)}function Gt(t){return f(t,le)}function qt(n){return e(t(U,null,N(f(n,se))),function(n){var r=l(n,3),o=U(r[0],r[1]),i=e(o,function(n){return t(Ft,null,n)});return i.concat(r[2])})}function Ht(t){return t.addEventListener("mouseup",function(n){n.stopPropagation(),x(t.onClick)&&tt(n)&&t.onClick()}),t}function Jt(t,n,e){var o=t.graphics;r(o,f(e,ae));var i=Xt(o,qt(e));return o.pen=i.mouseout,o.font=_t(Gt(e)),Vt(t,function(n){if(n.stopPropagation(),ft(n))return;o.pen=i[n.type],t.notify("onDraw")}),Kt(Ht(t),n)}function Kt(t,n){var e=t.graphics,r="rectbutton"===n?"rectPath":"ellipsePath",o="rectbutton"===n?tn:nn;return t.onDraw=function(){var n=new o(t);e[r](n.left,n.top,n.width,n.height),n.enableFill&&e.fillPath(n.pen.fill),n.enableStroke&&e.strokePath(n.pen.stroke),n.enableText&&e.drawString(n.text,n.pen.text,n.textX,n.textY,n.font)},t}function Qt(t,n){var e=n.length;return t/((e+Jn)/e)}function Zt(){var t=this.graphics.measureString(this.text,this.font),n=this.graphics.measureString(this.text,this.font,t[0]),e=Vn?Qt(n[0],this.text):n[0],r=(this.width-e)/2+this.left+this.fontOffset[0],o=_n?Hn:(this.height-n[1])/2+this.top+this.fontOffset[1];return[r+ge[0],o+ge[1]]}function tn(t){this.graphics=t.graphics,this.enableText=this.graphics.enableText,this.enableFill=this.graphics.enableFill,this.enableStroke=this.graphics.enableStroke,this.fontOffset=this.graphics.fontOffset,this.pen=this.graphics.pen,this.text=t.text,this.font=this.graphics.font,this.left=0,this.top=0,this.width=t.size[0]-qn,this.height=t.size[1]-qn,this.textLocation=Zt.call(this),this.textX=this.textLocation[0],this.textY=this.textLocation[1]}function nn(t){this.graphics=t.graphics,this.enableText=this.graphics.enableText,this.enableFill=this.graphics.enableFill,this.enableStroke=this.graphics.enableStroke,this.fontOffset=this.graphics.fontOffset,this.pen=this.graphics.pen,this.text=t.text,this.font=this.graphics.font,this.left=this.pen.stroke.lineWidth,this.top=this.pen.stroke.lineWidth,this.width=t.size[0]-2*this.left-qn,this.height=t.size[1]-2*this.top-qn,this.textLocation=Zt.call(this),this.textX=this.textLocation[0],this.textY=this.textLocation[1]}function en(t,n,e,r){W(t,function(t,o){if(o=dt(o).toLowerCase(),!ht(o))return;if(ut(n.type)&&!ct(o))return;X(o)?en(t,e(n,t,o),e,r):r(n,t,o)})}function rn(t,n){return t.add("item",n)}function on(t,n){return t.add("node",n)}function fn(t){return v(t,"param")?t.param+"":""}function un(t){return C(t)?fn(t):t+""}function an(t,n,e){return rt(e)?rn(t,un(n)):null}function cn(t,n,e){e=Yn&&_(e)?"button":e;var r=G(e)?It:$t;return r(t,e,dn(n,e))}function ln(n,e){var o=at(n.type)?an:cn;r(t(o,null,arguments),St(e))}function sn(t,n){return on(t,un(n))}function hn(t,n,e){return Tt(t,e,dn(n,e))}function pn(n,e,o){var i=et(o)?sn:hn;return r(t(i,null,arguments),e.style)}function dn(t,n){return gt(Ct(mt(t),n))}function bn(t,n){var e=kt(t,n);return en(t,e,pn,ln),e}function gn(t){return null===t||!t.visible}function vn(t,n,e,r){var o=null;return function(){return gn(o)&&(o=bn(t,n)),On(o,r),pt(o)&&e&&o.show(),o}}function yn(t,n,e,r){var o=bn(t,n);return On(o,r),pt(o)&&e&&o.show(),o}function kn(t,n,e){if(e)return Window;if(lt(Cn))return n?Cn:Window;return lt(t)?t:Window}function xn(t,n){if(V(0,2)(n))return n;if(V(0,2)(t))return t;return 0}function On(t,n){t.layout.layout(n),t.layout.resize()}function wn(n){var e=n?vn:yn;return t(e,null,[].slice.call(arguments,1))}function mn(t,n){var e=r(p(Ie),t.config),o=!!e.show,i=!!e.dockable,f=!!e.singleton,u=kn(n.context,i,f),a=xn(n.layoutMode,e.layoutMode);return[f,t,u,o,a]}function Sn(n){if(!C(n))return null;var e=t(wn,null,mn(n,Sn));return Gn.push(e),e}var Cn=this,Ln=J($)&&H($.global)&&$.global,Tn=!!Ln&&M(Ln.BridgeTalk)&&Ln.BridgeTalk,$n=["aftereffects","photoshop","illustrator","indesign","estoolkit"];if(!st(Tn,$n))throw"不受支持的宿主应用";var In="0.1.3",zn=1/0,Pn=/\d/g,Wn=/\\(\\)?/g,Fn=/\)$|^\(/g,jn=/REGULAR|BOLD|ITALIC|BOLDITALIC/i,An=/^#?([a-f\d])([a-f\d])([a-f\d])$/gi,Rn=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/gi,Bn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dn=/^\w*$/,Nn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Un=Tn.appName,En=Z("aftereffects"),Vn=Z("photoshop"),Mn=Z("illustrator"),Xn=Z("indesign"),Yn=En&&E(16),_n=Mn||Xn,Gn=[],qn=Vn?1:0,Hn=Mn?4.5:5,Jn=2.4,Kn={aftereffects:"palette",photoshop:"dialog",illustrator:"palette",indesign:"dialog",estoolkit:"palette"},Qn=Kn[Un],Zn={button:3,checkbox:3,dropdownlist:3,edittext:3,flashplayer:3,iconbutton:3,image:3,listbox:3,progressbar:5,radiobutton:3,scrollbar:5,slider:5,statictext:3,treeview:3},te={group:2,panel:3,tab:3,tabbedpanel:3},ne={rectbutton:3,roundbutton:3,angle:3},ee=0,re=2,oe=["enableText","enableFill","enableStroke","fontName","fontStyle","fontSize","fontOffset","fontColor","fillColor","strokeColor","fontOpacity","fillOpacity","strokeOpacity","strokeWidth"],ie=oe,fe=["mouseover","mouseout","mousedown","mouseup"],ue=["rectbutton","roundbutton"],ae=["enableText","enableFill","enableStroke","fontOffset"],ce=["fontColor","fillColor","strokeColor","fontOpacity","fillOpacity","strokeOpacity","strokeWidth"],le=["fontName","fontStyle","fontSize"],se=["fontColor","fillColor","strokeColor","fontOpacity","fillOpacity","strokeOpacity","strokeWidth"],he={rectbutton:"customView",roundbutton:"customView",angle:"customBoundedValue"},pe={aftereffects:2,photoshop:1,illustrator:2,indesign:2,estoolkit:2},de=R(4,s(pe[Un])),be={aftereffects:[0,0],photoshop:[0,0],illustrator:[0,2],indesign:[0,3],estoolkit:[0,-1]},ge=be[Un],ve={aftereffects:["#161616","#8a8a8a","#161616","#ffffff"],photoshop:["#f0f0f0","#f0f0f0","#f0f0f0","#ffffff"],illustrator:["#4b4b4b","#ffffff","#ffffff","#ffffff"],indesign:["#4b4b4b","#ffffff","#ffffff","#ffffff"],estoolkit:["#000000","#000000","#000000","#000000"]},ye=ve[Un],ke={aftereffects:["#8a8a8a","#232323","#636363","#2d8ceb"],photoshop:["#454545","#454545","#363636","#454545"],illustrator:["#ffffff","#535353","#46a0f5","#46a0f5"],indesign:["#ffffff","#535353","#46a0f5","#46a0f5"],estoolkit:["#e5f1fb","#e1e1e1","#cce4f7","#e5f1fb"]},xe=ke[Un],Oe={aftereffects:["#8a8a8a","#8a8a8a","#636363","#2d8ceb"],photoshop:["#666666","#666666","#636363","#1473e7"],illustrator:["#ffffff","#ffffff","#46a0f5","#46a0f5"],indesign:["#ffffff","#ffffff","#46a0f5","#46a0f5"],estoolkit:["#0078d7","#adadad","#005499","#0078d7"]},we=Oe[Un],me={aftereffects:[0,0,80,28],photoshop:[0,0,65,25],illustrator:[0,0,80,26],indesign:[0,0,80,28],estoolkit:[0,0,78,23]},Se=me[Un],Ce={aftereffects:[0,0,30,30],photoshop:[0,0,28,28],illustrator:[0,0,28,28],indesign:[0,0,30,30],estoolkit:[0,0,23,23]},Le=Ce[Un],Te={text:"",bounds:Se},$e={text:"",bounds:Le},Ie={dockable:!0,show:!0,singleton:!1},ze={enableText:!0,enableFill:!0,enableStroke:!0,fontName:"Tahoma",fontStyle:"REGULAR",fontSize:12,fontOffset:[0,0],fontColor:ye,fillColor:xe,strokeColor:we,fontOpacity:[1,1,1,1],fillOpacity:[1,1,1,1],strokeOpacity:[1,1,1,1],strokeWidth:de},Pe=ze,We={enableText:k,enableFill:k,enableStroke:k,fontName:T,fontStyle:q,fontSize:V(1,24),fontOffset:[S,S],fontColor:[Q,Q,Q,Q],fillColor:[Q,Q,Q,Q],strokeColor:[Q,Q,Q,Q],fontOpacity:[V(0,1),V(0,1),V(0,1),V(0,1)],fillOpacity:[V(0,1),V(0,1),V(0,1),V(0,1)],strokeOpacity:[V(0,1),V(0,1),V(0,1),V(0,1)],strokeWidth:[V(0,10),V(0,10),V(0,10),V(0,10)]},Fe=We;return Sn.version=In,Sn}.call(this);
